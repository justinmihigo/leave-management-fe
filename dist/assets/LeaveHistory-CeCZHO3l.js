import{a as u,r,j as e,L as j,t as f}from"./index-DJUZKzu_.js";import{B as g}from"./button-CAINd3Jp.js";import{C as l,a as o,b as d,c as i}from"./card-DLOJ-z9V.js";import{C as y}from"./calendar-a2GBqBfK.js";import{C as N}from"./clock-C1eaTBEf.js";const D=()=>{const{getUserLeaves:n}=u(),[t,m]=r.useState([]),[x,h]=r.useState(!0);r.useEffect(()=>{(async()=>{try{const a=await n();m(a)}catch(a){f.error("Failed to fetch leave history"),console.error("Error fetching leaves:",a)}finally{h(!1)}})()},[n]);const p=s=>{switch(s.toLowerCase()){case"approved":return"bg-green-100 text-green-600";case"pending":return"bg-yellow-100 text-yellow-600";case"rejected":return"bg-red-100 text-red-600";default:return"bg-gray-100 text-gray-600"}},c=s=>new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Leave History"}),e.jsx(j,{to:"/dashboard",children:e.jsx(g,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(l,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"All Leave Requests"}),e.jsx(y,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(i,{children:x?e.jsx("div",{className:"text-center py-4",children:"Loading..."}):t.length>0?e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.leaveType}),e.jsxs("p",{className:"text-sm text-gray-500",children:[c(s.startDate)," - ",c(s.endDate)]}),s.reason&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Reason: ",s.reason]}),s.approverComment&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Comment: ",s.approverComment]})]}),e.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${p(s.status)}`,children:s.status.toUpperCase()})]},s.id))}):e.jsx("div",{className:"text-center text-sm text-gray-500 py-4",children:"No leave history found"})})]}),e.jsxs(l,{children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(d,{className:"text-sm font-medium",children:"Leave Statistics"}),e.jsx(N,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(i,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:t.length})]}),e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Approved Requests"}),e.jsx("p",{className:"text-2xl font-bold",children:t.filter(s=>s.status.toLowerCase()==="approved").length})]})]})})]})]})]})})};export{D as default};
//# sourceMappingURL=LeaveHistory-CeCZHO3l.js.map

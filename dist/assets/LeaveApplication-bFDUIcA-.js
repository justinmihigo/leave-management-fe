import{r as m,j as e,a as f,u as g,L as b,t as x}from"./index-DJUZKzu_.js";import{c as N,B as d}from"./button-CAINd3Jp.js";import{I as u}from"./input-pYOC2Ios.js";import{L as l}from"./label-BfbkIwjj.js";import{S as D,a as S,b as L,c as C,d as r}from"./select-KBFx2Uzp.js";import{c as w,C as h}from"./calendar-a2GBqBfK.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=w("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),v=m.forwardRef(({className:o,...c},n)=>e.jsx("textarea",{className:N("flex min-h-[80px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o),ref:n,...c}));v.displayName="Textarea";const B=()=>{const{applyForLeave:o}=f(),c=g(),[n,p]=m.useState(!1),[s,t]=m.useState({type:"",startDate:"",endDate:"",reason:"",documents:[]}),j=async a=>{a.preventDefault(),p(!0);try{await o({type:s.type,startDate:s.startDate,endDate:s.endDate,reason:s.reason}),x.success("Leave application submitted successfully!"),c.push("/dashboard")}catch(i){console.error("Error submitting leave application:",i),x.error("Failed to submit leave application. Please try again.")}finally{p(!1)}},y=a=>{a.target.files&&t(i=>({...i,documents:[...i.documents,...Array.from(a.target.files)]}))};return e.jsx("div",{className:"container mx-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Apply for Leave"}),e.jsx(b,{to:"/dashboard",children:e.jsx(d,{variant:"outline",children:"Back to Dashboard"})})]}),e.jsxs("form",{onSubmit:j,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"leaveType",children:"Leave Type"}),e.jsxs(D,{value:s.type,onValueChange:a=>t({...s,type:a}),children:[e.jsx(S,{children:e.jsx(L,{placeholder:"Select leave type"})}),e.jsxs(C,{children:[e.jsx(r,{value:"PTO",children:"Annual Leave"}),e.jsx(r,{value:"SICK",children:"Sick Leave"}),e.jsx(r,{value:"COMPASSIONATE",children:"Compassionate Leave"}),e.jsx(r,{value:"MATERNITY",children:"Maternity Leave"}),e.jsx(r,{value:"UNPAID",children:"Unpaid Leave"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"startDate",children:"Start Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"startDate",type:"date",value:s.startDate,onChange:a=>t({...s,startDate:a.target.value}),className:"pl-10",required:!0}),e.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"endDate",children:"End Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(u,{id:"endDate",type:"date",value:s.endDate,onChange:a=>t({...s,endDate:a.target.value}),className:"pl-10",required:!0}),e.jsx(h,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"reason",children:"Reason"}),e.jsx(v,{id:"reason",value:s.reason,onChange:a=>t({...s,reason:a.target.value}),placeholder:"Enter the reason for your leave",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{htmlFor:"documents",children:"Supporting Documents (Optional)"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{id:"documents",type:"file",onChange:y,multiple:!0,className:"hidden"}),e.jsxs(d,{type:"button",variant:"outline",onClick:()=>{var a;return(a=document.getElementById("documents"))==null?void 0:a.click()},children:[e.jsx(A,{className:"w-4 h-4 mr-2"}),"Upload Documents"]}),s.documents.length>0&&e.jsxs("span",{className:"text-sm text-muted-foreground",children:[s.documents.length," file(s) selected"]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(d,{type:"submit",disabled:n,children:n?"Submitting...":"Submit Application"})})]})]})})};export{B as default};
//# sourceMappingURL=LeaveApplication-bFDUIcA-.js.map

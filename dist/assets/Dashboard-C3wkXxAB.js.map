{"version":3,"file":"Dashboard-C3wkXxAB.js","sources":["../../node_modules/lucide-react/dist/esm/icons/plus.js","../../src/pages/Dashboard.tsx"],"sourcesContent":["/**\n * @license lucide-react v0.294.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst Plus = createLucideIcon(\"Plus\", [\n  [\"path\", { d: \"M5 12h14\", key: \"1ays0h\" }],\n  [\"path\", { d: \"M12 5v14\", key: \"s699le\" }]\n]);\n\nexport { Plus as default };\n//# sourceMappingURL=plus.js.map\n","import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { Button } from '../components/ui/button';\nimport { Card, CardContent, CardHeader, CardTitle } from '../components/ui/card';\nimport { Calendar, Clock, FileText, Plus } from 'lucide-react';\nimport { useAuth } from '../auth/AuthContext';\nimport { toast } from 'react-toastify';\n\ninterface Leave {\n  id: string;\n  startDate: string;\n  endDate: string;\n  leaveType: string;\n  status: string;\n  reason: string;\n}\n\nconst Dashboard: React.FC = () => {\n  const { user, getUserLeaves } = useAuth();\n  const [leaves, setLeaves] = useState<Leave[]>([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    if (!user) {\n      toast.error('User not authenticated');\n      history.push('/login');\n      return;\n    }\n\n    if (user.role != 'Staff') {\n      history.push('/not-authorized');\n      return;\n    }\n    else{\n      history.push('/dashboard');\n    }\n\n    const fetchLeaves = async () => {\n      try {\n        const userLeaves = await getUserLeaves();\n        setLeaves(userLeaves);\n      } catch (error) {\n        toast.error('Failed to fetch leave data');\n        console.error('Error fetching leaves:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchLeaves();\n  }, [user, getUserLeaves, history]);\n\n  const getStatusColor = (status: string) => {\n    switch (status.toLowerCase()) {\n      case 'approved':\n        return 'text-green-500';\n      case 'pending':\n        return 'text-yellow-500';\n      case 'rejected':\n        return 'text-red-500';\n      default:\n        return 'text-gray-500';\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto p-6\">\n      <div className=\"flex justify-between items-center mb-6\">\n        <h1 className=\"text-2xl font-bold\">Welcome, {user?.name ?? 'User'}</h1>\n        <Link to=\"/leave/apply\">\n          <Button>\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Apply for Leave\n          </Button>\n        </Link>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Leave Balance</CardTitle>\n            <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm\">Annual Leave</span>\n              <span className=\"font-medium\">{user?.leaveBalance || 0} days</span>\n            </div>\n            <div className=\"flex justify-between items-center mb-2\">\n              <span className=\"text-sm\">Sick Leave</span>\n              <span className=\"font-medium\">{user?.sickLeaveBalance || 0} days</span>\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Recent Requests</CardTitle>\n            <FileText className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            {loading ? (\n              <div className=\"text-center\">Loading...</div>\n            ) : leaves.length > 0 ? (\n              leaves.slice(0, 2).map((leave) => (\n                <div key={leave.id} className=\"flex justify-between items-center mb-2\">\n                  <span className=\"text-sm\">{leave.leaveType}</span>\n                  <span className={`text-sm ${getStatusColor(leave.status)}`}>\n                    {leave.status.toUpperCase()}\n                  </span>\n                </div>\n              ))\n            ) : (\n              <div className=\"text-center text-sm text-gray-500\">No leave requests yet</div>\n            )}\n          </CardContent>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Quick Actions</CardTitle>\n            <Clock className=\"h-4 w-4 text-muted-foreground\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-2\">\n              <Link to=\"/leave/history\">\n                <Button variant=\"outline\" className=\"w-full justify-start\">\n                  View Leave History\n                </Button>\n              </Link>\n              <Link to=\"/team-calendar\">\n                <Button variant=\"outline\" className=\"w-full justify-start\">\n                  Team Calendar\n                </Button>\n              </Link>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard;"],"names":["Plus","createLucideIcon","Dashboard","user","getUserLeaves","useAuth","leaves","setLeaves","useState","loading","setLoading","history","useHistory","useEffect","toast","userLeaves","error","getStatusColor","status","jsxs","jsx","Link","Button","Card","CardHeader","CardTitle","Calendar","CardContent","FileText","leave","Clock"],"mappings":"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","x_google_ignoreList":[0]}